CREATE TABLE user (
	id INT NOT NULL AUTO_INCREMENT,
	username VARCHAR(30) NOT NULL,
	password VARCHAR(50) NOT NULL,
	email VARCHAR(50) NOT NULL,
	activationKey VARCHAR(10) NOT NULL,
	isActivated INT NOT NULL,
	PRIMARY KEY (id),
	KEY id_username (username)
) ENGINE=INNODB;

CREATE TABLE debt (
	id INT NOT NULL AUTO_INCREMENT,
	amount DOUBLE NOT NULL,
	what VARCHAR(30) NOT NULL,
	comment VARCHAR(100),
	status VARCHAR(30) NOT NULL,
	fromUser INT NOT NULL,
	toUser INT NOT NULL,
	requestedByUser INT NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (fromUser) REFERENCES user(id) ON DELETE CASCADE,
	FOREIGN KEY (toUser) REFERENCES user(id) ON DELETE CASCADE,
	FOREIGN KEY (requestedByUser) REFERENCES user(id) ON DELETE CASCADE
) ENGINE=INNODB;

CREATE TABLE friendRequest (
	id INT NOT NULL AUTO_INCREMENT,
	toUser INT NOT NULL,
	fromUser INT NOT NULL,
	status VARCHAR(30) NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (toUser) REFERENCES user(id) ON DELETE CASCADE,
	FOREIGN KEY (fromUser) REFERENCES user(id) ON DELETE CASCADE
) ENGINE=INNODB;
